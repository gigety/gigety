{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/samuelsegal/git/gigety/gigety-reactjs/react-gigety/src/components/Gig/CreateGig.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Segment, Header, Icon, Button, Form, TextArea, Grid, Input, GridColumn } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport LocationMap from '../Maps/LocationMap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { postGig } from '../../redux/actions/gigAction';\nimport LocationList from '../Profile/LocationList';\n\nconst CreateGig = () => {\n  _s();\n\n  const [includeLocation, setIncludeLocation] = useState(false);\n  const [gig, setGig] = useState({});\n  const [locations, setLocations] = useState([]);\n  const [markers, setMarkers] = useState([]);\n  const [circles, setCircles] = useState([]);\n  const reduxDispatch = useDispatch();\n  const history = useHistory();\n  const {\n    giguser\n  } = useSelector(state => state.giguser);\n  useEffect(() => {\n    setGig(gig => ({ ...gig,\n      userImageUrl: giguser.imageUrl\n    }));\n  }, [giguser.imageUrl]);\n\n  const showMap = includeLocation => {\n    setIncludeLocation(!includeLocation);\n  };\n\n  const onSubmit = (e, gig) => {\n    reduxDispatch(postGig(JSON.stringify(gig), history));\n  };\n\n  const onAddLocation = (location, miles) => {\n    if (location) {\n      const loc = {\n        ref_id: _.random(11, 12, true),\n        address: location.formatted_address,\n        location: {\n          lat: location.geometry.location.lat(),\n          lng: location.geometry.location.lng()\n        },\n        radius: miles\n      };\n      setLocations([...locations, loc]);\n      setGig({ ...gig,\n        gigLocations: [...locations, loc]\n      });\n      return loc;\n    }\n  };\n\n  const onRemoveLocation = (locations, markers, circles) => ref_id => {\n    const locs = locations.filter(location => {\n      return location.ref_id !== ref_id;\n    });\n    setLocations(locs);\n    setGig({ ...gig,\n      gigLocations: locs\n    });\n    markers.map(marker => {\n      if (marker.ref_id === ref_id) {\n        marker.setMap(null);\n      }\n\n      return marker;\n    });\n    circles.map(circle => {\n      if (circle.ref_id === ref_id) {\n        circle.setMap(null);\n      }\n\n      return circle;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      encType: \"multipart/form-data\",\n      children: /*#__PURE__*/_jsxDEV(Segment, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          children: [/*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n              children: /*#__PURE__*/_jsxDEV(Header, {\n                as: \"h2\",\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Header.Content, {\n                  children: \"Create a Gig\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n              width: \"10\",\n              children: [/*#__PURE__*/_jsxDEV(Segment, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    placeholder: \"Enter title for your new profile...\",\n                    onBlur: e => {\n                      setGig({ ...gig,\n                        title: e.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n                    placeholder: \"A brief description of this profile...\",\n                    onBlur: e => {\n                      setGig({ ...gig,\n                        description: e.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Locations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LocationList, {\n                  locations: locations,\n                  onRemove: onRemoveLocation(locations, markers, circles)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n              width: \"10\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                primary: true,\n                circular: true,\n                fluid: true,\n                animated: \"fade\",\n                onClick: e => {\n                  showMap(includeLocation);\n                },\n                children: includeLocation ? 'Close Map' : 'Add Location(s)'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n              width: \"6\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                primary: true,\n                fluid: true,\n                onClick: e => {\n                  onSubmit(e, gig);\n                },\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n              children: includeLocation ? /*#__PURE__*/_jsxDEV(LocationMap, {\n                addSearch: true,\n                addLocator: true,\n                onAddLocation: onAddLocation,\n                markers: markers,\n                setMarkers: setMarkers,\n                circles: circles,\n                setCircles: setCircles\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 10\n              }, this) : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CreateGig, \"nY6ORyofGP61goVNcb2WoZ19nw4=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = CreateGig;\nexport default CreateGig;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateGig\");","map":{"version":3,"sources":["/Users/samuelsegal/git/gigety/gigety-reactjs/react-gigety/src/components/Gig/CreateGig.js"],"names":["React","useState","useEffect","Container","Segment","Header","Icon","Button","Form","TextArea","Grid","Input","GridColumn","_","LocationMap","useDispatch","useSelector","useHistory","postGig","LocationList","CreateGig","includeLocation","setIncludeLocation","gig","setGig","locations","setLocations","markers","setMarkers","circles","setCircles","reduxDispatch","history","giguser","state","userImageUrl","imageUrl","showMap","onSubmit","e","JSON","stringify","onAddLocation","location","miles","loc","ref_id","random","address","formatted_address","lat","geometry","lng","radius","gigLocations","onRemoveLocation","locs","filter","map","marker","setMap","circle","title","target","value","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Segment, Header, Icon, Button, Form, TextArea, Grid, Input, GridColumn } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport LocationMap from '../Maps/LocationMap';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\nimport { postGig } from '../../redux/actions/gigAction';\nimport LocationList from '../Profile/LocationList';\nconst CreateGig = () => {\n\tconst [includeLocation, setIncludeLocation] = useState(false);\n\tconst [gig, setGig] = useState({});\n\tconst [locations, setLocations] = useState([]);\n\tconst [markers, setMarkers] = useState([]);\n\tconst [circles, setCircles] = useState([]);\n\tconst reduxDispatch = useDispatch();\n\tconst history = useHistory();\n\tconst { giguser } = useSelector((state) => state.giguser);\n\n\tuseEffect(() => {\n\t\tsetGig((gig) => ({ ...gig, userImageUrl: giguser.imageUrl }));\n\t}, [giguser.imageUrl]);\n\n\tconst showMap = (includeLocation) => {\n\t\tsetIncludeLocation(!includeLocation);\n\t};\n\n\tconst onSubmit = (e, gig) => {\n\t\treduxDispatch(postGig(JSON.stringify(gig), history));\n\t};\n\n\tconst onAddLocation = (location, miles) => {\n\t\tif (location) {\n\t\t\tconst loc = {\n\t\t\t\tref_id: _.random(11, 12, true),\n\t\t\t\taddress: location.formatted_address,\n\t\t\t\tlocation: { lat: location.geometry.location.lat(), lng: location.geometry.location.lng() },\n\t\t\t\tradius: miles,\n\t\t\t};\n\t\t\tsetLocations([...locations, loc]);\n\t\t\tsetGig({\n\t\t\t\t...gig,\n\t\t\t\tgigLocations: [...locations, loc],\n\t\t\t});\n\t\t\treturn loc;\n\t\t}\n\t};\n\n\tconst onRemoveLocation = (locations, markers, circles) => (ref_id) => {\n\t\tconst locs = locations.filter((location) => {\n\t\t\treturn location.ref_id !== ref_id;\n\t\t});\n\t\tsetLocations(locs);\n\t\tsetGig({ ...gig, gigLocations: locs });\n\t\tmarkers.map((marker) => {\n\t\t\tif (marker.ref_id === ref_id) {\n\t\t\t\tmarker.setMap(null);\n\t\t\t}\n\t\t\treturn marker;\n\t\t});\n\t\tcircles.map((circle) => {\n\t\t\tif (circle.ref_id === ref_id) {\n\t\t\t\tcircle.setMap(null);\n\t\t\t}\n\t\t\treturn circle;\n\t\t});\n\t};\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Form encType=\"multipart/form-data\">\n\t\t\t\t<Segment>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t<Header as=\"h2\">\n\t\t\t\t\t\t\t\t\t<Icon name=\"edit\" />\n\t\t\t\t\t\t\t\t\t<Header.Content>Create a Gig</Header.Content>\n\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column width=\"10\">\n\t\t\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter title for your new profile...\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetGig({ ...gig, title: e.target.value });\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"A brief description of this profile...\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetGig({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...gig,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t\t<label>Locations</label>\n\t\t\t\t\t\t\t\t\t<LocationList\n\t\t\t\t\t\t\t\t\t\tlocations={locations}\n\t\t\t\t\t\t\t\t\t\tonRemove={onRemoveLocation(locations, markers, circles)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column width=\"10\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\t\tcircular\n\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t\tanimated=\"fade\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tshowMap(includeLocation);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{includeLocation ? 'Close Map' : 'Add Location(s)'}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t<Grid.Column width=\"6\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tonSubmit(e, gig);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t{includeLocation ? (\n\t\t\t\t\t\t\t\t\t<LocationMap\n\t\t\t\t\t\t\t\t\t\taddSearch\n\t\t\t\t\t\t\t\t\t\taddLocator\n\t\t\t\t\t\t\t\t\t\tonAddLocation={onAddLocation}\n\t\t\t\t\t\t\t\t\t\tmarkers={markers}\n\t\t\t\t\t\t\t\t\t\tsetMarkers={setMarkers}\n\t\t\t\t\t\t\t\t\t\tcircles={circles}\n\t\t\t\t\t\t\t\t\t\tsetCircles={setCircles}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Segment>\n\t\t\t</Form>\n\t\t</Container>\n\t);\n};\n\nexport default CreateGig;\n"]},"metadata":{},"sourceType":"module"}