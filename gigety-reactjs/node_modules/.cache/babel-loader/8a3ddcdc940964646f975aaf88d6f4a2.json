{"ast":null,"code":"import { SET_GIG_CREATED_SUCCESS, SET_GIG_CREATED_ERROR, SET_GIG_CREATED_WAITING } from './types';\nimport gigety from 'apis/gigety';\nexport const postGig = (gig, history) => async dispatch => {\n  //const data = new FormData();\n  //data.append('gig', gig);\n  try {\n    const postedGig = await gigety.post('/gigs/create', JSON.parse(gig)); //TODO: Still needs to handle slow posts. I am thinking maybe have a spinner in a\n    //newly allocated profileLable on account page\n\n    dispatch({\n      type: SET_GIG_CREATED_WAITING,\n      payload: false\n    });\n    dispatch({\n      type: SET_GIG_CREATED_SUCCESS,\n      payload: postedGig\n    });\n  } catch (error) {\n    console.error('Error creating gig : ', error); //TODO: THis needs to be handled on UI\n\n    dispatch({\n      type: SET_GIG_CREATED_ERROR,\n      payload: error\n    });\n    throw error;\n  }\n\n  dispatch({\n    type: SET_GIG_CREATED_WAITING,\n    payload: true\n  });\n  history.push('/gigs');\n};","map":{"version":3,"sources":["/Users/samuelsegal/git/gigety/gigety-reactjs/react-gigety/src/redux/actions/gigAction.js"],"names":["SET_GIG_CREATED_SUCCESS","SET_GIG_CREATED_ERROR","SET_GIG_CREATED_WAITING","gigety","postGig","gig","history","dispatch","postedGig","post","JSON","parse","type","payload","error","console","push"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,qBAAlC,EAAyDC,uBAAzD,QAAwF,SAAxF;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAO,MAAMC,OAAO,GAAG,CAACC,GAAD,EAAMC,OAAN,KAAkB,MAAOC,QAAP,IAAoB;AAC5D;AACA;AACA,MAAI;AACH,UAAMC,SAAS,GAAG,MAAML,MAAM,CAACM,IAAP,CAAY,cAAZ,EAA4BC,IAAI,CAACC,KAAL,CAAWN,GAAX,CAA5B,CAAxB,CADG,CAEH;AACA;;AACAE,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEV,uBAAR;AAAiCW,MAAAA,OAAO,EAAE;AAA1C,KAAD,CAAR;AACAN,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEZ,uBAAR;AAAiCa,MAAAA,OAAO,EAAEL;AAA1C,KAAD,CAAR;AACA,GAND,CAME,OAAOM,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACD,KAAR,CAAc,uBAAd,EAAuCA,KAAvC,EADe,CAEf;;AACAP,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEX,qBAAR;AAA+BY,MAAAA,OAAO,EAAEC;AAAxC,KAAD,CAAR;AACA,UAAMA,KAAN;AACA;;AACDP,EAAAA,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEV,uBAAR;AAAiCW,IAAAA,OAAO,EAAE;AAA1C,GAAD,CAAR;AACAP,EAAAA,OAAO,CAACU,IAAR,CAAa,OAAb;AACA,CAjBM","sourcesContent":["import { SET_GIG_CREATED_SUCCESS, SET_GIG_CREATED_ERROR, SET_GIG_CREATED_WAITING } from './types';\nimport gigety from 'apis/gigety';\nexport const postGig = (gig, history) => async (dispatch) => {\n\t//const data = new FormData();\n\t//data.append('gig', gig);\n\ttry {\n\t\tconst postedGig = await gigety.post('/gigs/create', JSON.parse(gig));\n\t\t//TODO: Still needs to handle slow posts. I am thinking maybe have a spinner in a\n\t\t//newly allocated profileLable on account page\n\t\tdispatch({ type: SET_GIG_CREATED_WAITING, payload: false });\n\t\tdispatch({ type: SET_GIG_CREATED_SUCCESS, payload: postedGig });\n\t} catch (error) {\n\t\tconsole.error('Error creating gig : ', error);\n\t\t//TODO: THis needs to be handled on UI\n\t\tdispatch({ type: SET_GIG_CREATED_ERROR, payload: error });\n\t\tthrow error;\n\t}\n\tdispatch({ type: SET_GIG_CREATED_WAITING, payload: true });\n\thistory.push('/gigs');\n};\n"]},"metadata":{},"sourceType":"module"}